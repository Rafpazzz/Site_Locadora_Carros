<%# app/views/admin/locatarios/_form.html.erb %>

<%# --- CORRE√á√ÉO AQUI --- %>
<%# Trocamos a vari√°vel 'emprestimo' (errada) por 'locatario' (correta) %>
<%= form_with(model: [:admin, locatario], class: "needs-validation") do |form| %>
  <div class="card shadow-sm border-0 mb-4">
    <div class="card-header bg-primary text-white fw-bold">
      Editar Locat√°rio: <%= locatario.nome %>
    </div>

    <div class="card-body bg-light">
      <% if locatario.errors.any? %>
        <div class="alert alert-danger">
          <h5><%= pluralize(locatario.errors.count, "erro") %> impediram o salvamento:</h5>
          <ul class="mb-0">
            <% locatario.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <%# Campos corretos para o Locat√°rio %>
      <div class="row g-3">
        <div class="col-md-6">
          <%= form.label :nome, class: "form-label fw-semibold" %>
          <%= form.text_field :nome, class: "form-control shadow-sm", required: true %>
        </div>

        <div class="col-md-6">
          <%= form.label :email, class: "form-label fw-semibold" %>
          <%= form.email_field :email, class: "form-control shadow-sm", required: true %>
        </div>
        
        <div class="col-12 align-self-center mt-4">
          <div class="form-check form-switch fs-5">
            <%= form.check_box :admin, class: "form-check-input" %>
            <%= form.label :admin, "Este usu√°rio √© um Administrador?", class: "form-check-label" %>
          </div>
        </div>
      </div>
    </div>

    <div class="card-footer bg-white d-flex justify-content-between">
      <%= link_to "‚Üê Voltar", admin_locatarios_path, class: "btn btn-outline-secondary" %>
      <%= form.submit "üíæ Salvar Altera√ß√µes", class: "btn btn-primary px-4" %>
    </div>
  </div>
<% end %>